<%= content_tag :div, class: "marksmith-editor-pane flex flex-1 flex-col size-full", data: { marksmith_target: "fieldContainer" } do %>
  <%= text_area_tag editor.field_name, editor.value,
    id: editor.textarea_id,
    class: class_names(
      "marksmith-textarea flex flex-1 border-none resize-none focus:outline-none font-mono focus:ring-0 leading-normal p-2 text-sm field-sizing-content min-h-60",
      "dark:bg-neutral-800 dark:text-neutral-200",
      editor.classes
    ),
    data: {
      action: "drop->marksmith#dropUpload paste->marksmith#pasteUpload keydown.tab->marksmith#indent",
      marksmith_target: "fieldElement",
      **editor.data_attributes
    },
    disabled: editor.disabled,
    placeholder: editor.placeholder,
    autofocus: editor.autofocus,
    style: editor.style
  %>
  <% toolbar_button_classes = "cursor-pointer hover:bg-bp-lighter px-3 py-2 rounded text-sm" %>
  <div class="marksmith-bottom-toolbar flex flex-1 flex-grow space-x-2 border-t border-neutral-500 font-sans text-sm">
    <% if editor.enable_file_uploads %>
      <%= button_tag data: { action: "click->marksmith#buttonUpload" }, class: class_names("marksmith-upload-button bg-none border-none bg-transparent items-center flex gap-1", toolbar_button_classes) do %>
        <%= marksmith_inline_svg("app/assets/images/marksmith/svgs/paperclip.svg") %> <span>Paste, click, or drop to add files</span>
      <% end %>
    <% end %>
    <% if editor.gallery_enabled %>
      <%= link_to editor.gallery_full_path, data: { turbo_frame: editor.gallery_turbo_frame }, class: class_names("marksmith-gallery-link flex items-center no-underline gap-1", toolbar_button_classes) do %>
        <%= marksmith_inline_svg("app/assets/images/marksmith/svgs/gallery.svg") %> <span><%= t("marksmith.attach_from_gallery").humanize %></span>
      <% end %>
    <% end %>
  </div>
<% end %>
