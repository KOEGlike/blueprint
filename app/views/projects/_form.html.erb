<%= form_with model: @project, html: { class: "space-y-6" } do |f| %>
  <% if @project.errors.any? %>
    <div class="rounded-md bg-red-50 p-4 text-red-700">
      <p><strong><%= pluralize(@project.errors.count, "error") %></strong> prevented this project from being saved:</p>
      <ul class="list-disc pl-5">
        <% @project.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= f.label :title, class: "block text-sm font-medium" %>
    <%= f.text_field :title, required: true, class: "input px-3 w-full" %>
  </div>

  <div>
    <%= f.label :description, class: "block text-sm font-medium" %>
    <%= f.text_area :description, required: true, rows: 6, class: "input px-3 mt-1 block w-full" %>
  </div>

  <div>
    <%= f.label :repo_link, class: "block text-sm font-medium" %>
    <%= f.url_field :repo_link, placeholder: "https://github.com/...", class: "input mt-1 block w-full" %>
  </div>

  <div>
    <%= f.label :banner, class: "block text-sm font-medium" %>
    <div class="mt-1 flex items-center gap-3" data-controller="file-input">
      <%= f.file_field :banner, direct_upload: true, id: "project_banner_input", class: "hidden", data: { file_input_target: "input" }, "data-action": "change->file-input#update" %>
      <label for="project_banner_input" class="btn btn-outline">Choose file</label>
      <span data-file-input-target="filename" data-placeholder="No file selected">No file selected</span>
    </div>
  </div>

  <div>
    <%= f.submit (@project.new_record? ? "Create project" : "Update project"), class: "btn btn-primary block w-full" %>
  </div>
<% end %>
